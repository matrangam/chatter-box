@import "compass";
@import "../vendor/_normalize-v1.0.1";

@mixin retina-background-image($image, $width, $height) {
	@media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6/2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
		background-image: image-url($image) !important;
		background-size: $width $height;
	}
}

.pie-clearfix {
  @include pie-clearfix;
}

a {
  color: #294f84;
}

label[for] {
  cursor: pointer;
}

.spinner {
  background: image-url("spinner.gif") no-repeat center center;
  @include retina-background-image("spinner.gif", 16px, 16px);
  width: image-width("spinner.gif");
  height: image-height("spinner.gif");
}

body {
  padding: 10px;
  min-width: 940px;
  text-align: center;
  font-size: 75%;
  color: #444;
}
body, input, textarea, select, button {
  font-family: Verdana, sans-serif;
}
.no-boxshadow body {
  min-width: 942px;
}
#main {
  margin-left: auto;
  margin-right: auto;
  width: 940px;
  text-align: left;
}
.no-boxshadow #main {
  width: 942px;
}


button.button,
input.button,
a.button,
button.link-button,
input.link-button,
a.link-button {
  @include inline-block;
  border: 1px solid transparent;
  padding: 0.5em 1em;
  overflow: visible;
  font-size: 133.333333333%;
  text-transform: lowercase;
  text-decoration: none;
  font-weight: bold;
  line-height: 1em;

  &[disabled] {
    color: #CCC;
  }

  &.small {
    font-size: 100%;
  }
}
button.link-button,
input.link-button,
a.link-button {
  color: #294F84;
}


button.button,
input.button,
a.button {
  border-color: #69A2F1;
  background-color: #224272;
  @include background(linear-gradient(top, #416DAB, #224272));
  color: #FFF;
  @include text-shadow(0 1px 2px rgba(#000, 0.75));
  @include box-shadow(rgba(#000, 0.25) 1px 1px 3px 0);

  &:hover {
    background-color: lighten(#224272, 10%);
    @include background(linear-gradient(top, lighten(#416DAB, 10%), lighten(#224272, 10%)));
  }

  &[disabled] {
    border-color: #F1F1F1;
    background-color: #727272;
    @include background(linear-gradient(top, #ABABAB, #727272));
  }
}


article.context {
  > form {
    > header > h1 {
      margin-top: 0;
      font-weight: normal;
    }
    > .content {

    }
    > footer {
      margin-top: 1em;

      ul {
        margin: 0;
        padding: 0;
        list-style-type: none;

        > li > a {
          text-decoration: none;
        }
      }

      > .primary-actions {
        float: right;
        max-width: 65%;
        text-align: right;

        > ul > li {
          @include inline-block;
          margin-top: 0.5em;

          &:first-child {
            margin-top: 0;
          }
        }
      }
      > .secondary-actions {
        float: left;
        max-width: 35%;
        text-transform: lowercase;
      }
    }
  }
}

.canvas {
  > .wizard {
    @include float(left);
    margin: 2.127659574%;
    width: 65.957446809%;
    overflow: hidden;
    position: relative;
    z-index: 3;

    // TODO: See if there is any way to set these widths relatively.
    > .yield-wrapper {
      width: 620px;

      .yield > .step {
        position: relative;
        left: 0px;
        margin: 0 20px 0 0;
        width: 620px;
        float: left;
        z-index: 2;
      }
    }
  }
}

.field {
  @extend .pie-clearfix;
  margin-bottom: 1em;

  > label.first {
    position: relative;

    > .text {
      @include inline-block;
      margin-right: 2.25em;
    }
  }

  &.horizontal {
    > label.first {
      @include float(left);
      width: 16em;
      text-align: right;
    }

    > .non-label {
      margin-left: 17em;
    }
  }
}
